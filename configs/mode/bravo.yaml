# Bravo Mode - Conditional single image generation
#
# Generates BRAVO MRI images conditioned on segmentation mask.
# BRAVO = Brain Volume imaging with T1 weighting.
#
# For DIFFUSION training:
#   in_channels: 2 = [noisy_bravo, seg_mask]
#   out_channels: 1 = predicted bravo
#   Dataloader: create_dataloader(image_type='bravo')
#
# For VAE training (channels overridden in train_vae.py):
#   in_channels: 1 = bravo (NO seg mask!)
#   out_channels: 1
#   Dataloader: create_vae_dataloader()

name: bravo
is_conditional: true
in_channels: 2   # [noisy_bravo, seg_mask] - for diffusion
out_channels: 1  # predicted noise/velocity for bravo
image_keys: [bravo]  # Which modalities to load
description: "BRAVO image generation conditioned on segmentation mask"

# Classifier-free guidance (CFG) dropout
# - 2D: NOT used - ~65-75% natural dropout from tumor-free slices
# - 3D: Used - every volume has tumors, no natural dropout
cfg_dropout_prob: 0.15  # 15% CFG dropout (only affects 3D training)
